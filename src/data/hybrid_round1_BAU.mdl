include ..\model\lists

#-----------------------Data for MTEP

Q_Mtep_ef[ce,se] := MTEP($se, 15+$ce) * (1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)

Q_Mtep_X[ce,se] := MTEP($se, 19+$ce) * (1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)

Q_Mtep_Nener[ce,se] := MTEP($se, 24+$ce) * (1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)

Q_Mtep_Nener[ce] := sum (Q_Mtep_Nener[ce,se] on se)
 
Q_Mtep_int[ce,se] := MTEP($se, 34+$ce) * (1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)

Q_Mtep_Losses[ce,se] := MTEP($se, 38+$ce) * (1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)

Q_Mtep_indus[ce,s] := MTEP_INDUS($s, $ce) * (1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)

Q_Mtep_H_BUIL[ce] := MTEP_USE(1, $ce)*(1 + STEADYSTATE(2,1))^ (@year -%baseyear)
                  
Q_Mtep_H_AUTO[ce] := MTEP_USE(2, $ce)*(1 + STEADYSTATE(2,1))^ (@year -%baseyear)

Q_Mtep_SEC[ce, sne] :=  MTEP_USE(12 + $sne, $ce)*(1 + STEADYSTATE(2,1))^ (@year -%baseyear) 

Q_Mtep_H_BUIL := sum(Q_Mtep_H_BUIL[ce] on ce)

Q_Mtep_H_AUTO := sum(Q_Mtep_H_AUTO[ce] on ce)

Q_Mtep_SEC_SOU[ce] := sum(Q_Mtep_SEC[ce, sne] on sne)

Q_Mtep_SEC[sne] := sum(Q_Mtep_SEC[ce, sne] on ce)

Q_Mtep_H := Q_Mtep_H_BUIL + Q_mtep_H_AUTO

Q_Mtep_SEC := sum(Q_Mtep_SEC_SOU[ce] on ce)

Verif_Q_Mtep_HSEC := 0

#----------------------data for BUIL

ENER_BUIL[h, ecl, ce] := (HOUSEHOLD_HYBRID_BUIL(40 + $ecl + ($ce - 1) * 8, $h)) *(1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)
 
phi_BUIL[ecl] := HOUSEHOLD_HYBRID_BUIL(277 + $ecl, 1)      #modifié

BUIL[h, ecl] := phi_BUIL[ecl] * BUIL[h]     #  modifié

delta_BUIL[h, ecl, ecl2] := HOUSEHOLD_HYBRID_Trans(17 + $ecl, $ecl2)     #modifié pour les besoins du crtl comptable

delta_BUIL[h, ecl, DES] := 0.002                          #modifié pour les besoins du crtl comptable
  
BUIL[h, DES] := sum(delta_BUIL[h, ecl, DES] * BUIL[h, ecl]{-1} on ecl)     
 
tau_REHAB[h, ecl] := HOUSEHOLD_HYBRID_BUIL(24 + $ecl, $h)
  
phi_REHAB[h, ecl, ecl2] := HOUSEHOLD_HYBRID_Trans(9 + $ecl, $ecl2)

nu_REHAB[h, ecl] := HOUSEHOLD_HYBRID_BUIL(206 + $ecl, $h)              #déplacé
  
#REHAB[h, ecl, ecl2] := phi_REHAB[h, ecl, ecl2] * tau_REHAB[h, ecl] * BUIL[h, ecl]{-1}    #corrigé

REHAB[h, ecl, ecl2] := @elem(phi_REHAB[h, ecl, ecl2] * tau_REHAB[h, ecl] * BUIL[h, ecl]{-1},%baseyear)*(1+STEADYSTATE(2,1)) ^ (@year - %baseyear)           #corrigé

REHAB[h, ecl] := sum(REHAB[h, ecl, ecl2] on ecl2)

NewBUIL[h] := HOUSEHOLD_HYBRID_BUIL(277, $h)*(1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)
  
BUIL[h] := @elem(NewBUIL[h]/(1-(1-delta_BUIL[h, CF, DES])/(1+STEADYSTATE(2, 1))),%baseyear)*(1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)   #modifié
  
phi_NewBUIL[h, ecl] := HOUSEHOLD_HYBRID_BUIL(17 + $ecl, $h)

NewBUIL[h, ecl] := @elem(phi_BUIL[ecl] * NewBUIL[h], %baseyear)*(1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)      # modifié

M2perCapita := HOUSEHOLD_HYBRID_BUIL(17,1)                     

REHAB_D[h, ecl] := HOUSEHOLD_HYBRID_BUIL(268 + $ecl, $h)      

PREHAB[h, ecl, ecl2] := HOUSEHOLD_HYBRID_Trans(1 + $ecl, $ecl2) / (HOUSEHOLD_HYBRID_BUIL(16, 1)/HOUSEHOLD_HYBRID_BUIL(8, 1)) / 1000000* _
                       (1 + STEADYSTATE(15, 1)) ^ (@year - %baseyear)    

LD_REHAB[h, ecl] := HOUSEHOLD_HYBRID_BUIL(175 + $ecl, $h)         

LD[h, ecl] := HOUSEHOLD_HYBRID_BUIL(199 + $ecl, $h)       

BUIL_D[h, ecl] := HOUSEHOLD_HYBRID_BUIL(260 + $ecl, $h)     

PNewBUIL[h, ecl] := (HOUSEHOLD_HYBRID_BUIL(151 + $ecl, $h) / 1000000) * (1 + STEADYSTATE(15, 1)) ^ (@year - %baseyear)    
  
R_CASH_REHAB[h, ecl] := HOUSEHOLD_HYBRID_BUIL(159 + $ecl, $h)             
 
R_I_REHAB[h, ecl] := HOUSEHOLD_HYBRID_BUIL(166 + $ecl, $h)             

R_CASH_NewBUIL[h, ecl] := HOUSEHOLD_HYBRID_BUIL(236 + $ecl, $h)        

R_I_NewBUIL[h, ecl] := HOUSEHOLD_HYBRID_BUIL(244 + $ecl, $h)         

R_I_BUIL[h, ecl] := HOUSEHOLD_HYBRID_BUIL(191 + $ecl, $h)           

R_CASH[h, ecl] := HOUSEHOLD_HYBRID_BUIL(183 + $ecl, $h)            

GR_PENER_m2_e[h, ecl] := STEADYSTATE(15,1)                         

Ver_PREHABdelta[h, ecl] := 0

R_SUB[h, ecl, ecl2] := HOUSEHOLD_HYBRID_BUIL(228 + $ecl, $h)           

ENERperM2[h, ecl, ce] := @elem(ENER_BUIL[h, ecl, ce] / BUIL[h, ecl],%baseyear) if ENER_BUIL[h, ecl, ce] <> 0      

EXP_BUIL[h, ecl, ce]  := (HOUSEHOLD_HYBRID_BUIL(120 + $ecl + ($ce - 1) * 8, $h)) * (1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)       

EXP_BUIL[h, ecl] := sum(EXP_BUIL[h, ecl, ce] on ce)                                   

EXP_BUIL[h, ce] :=  sum(EXP_BUIL[h, ecl, ce] on ecl)                                   


                     
 

#------------------data for auto

EXP_AUTO[h, ecl, ce] := (HOUSEHOLD_HYBRID_AUTO(1 + $ecl + ($ce - 1) * 8, $h))* (1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)    


PNewAUTO[h, ecl] := HOUSEHOLD_HYBRID_AUTO(118 + $ecl, $h) / 1000 * (1 + STEADYSTATE(15, 1)) ^ (@year - %baseyear)    

R_CASH_AUTO[h, ecl] := HOUSEHOLD_HYBRID_AUTO(125 + $ecl, $h)                                  

R_I_AUTO[h, ecl] := HOUSEHOLD_HYBRID_AUTO(133 + $ecl, $h)                                    

R_LOAN_AUTO[h, ecl] := 1 - R_CASH_AUTO[h, ecl]                                              

LD_AUTO[h, ecl] := HOUSEHOLD_HYBRID_AUTO(141 + $ecl, $h)                                    

R_RMBS_AUTO[h, ecl] := HOUSEHOLD_HYBRID_AUTO(157 + $ecl, $h)                               

phi_NewAUTO[h, ecl] := HOUSEHOLD_HYBRID_AUTO(111 + $ecl, $h) 

AUTO_D[h, ecl] := HOUSEHOLD_HYBRID_AUTO(172+ $ecl, $h)                              

delta_AUTO[h, ecl, DES] := HOUSEHOLD_HYBRID_Trans(25 + $ecl, 8)

delta_AUTO_des := HOUSEHOLD_HYBRID_Trans(25 + $ecl, 8)


#########################

NewAUTO[h] :=  (HOUSEHOLD_HYBRID_AUTO(220, $h))* (1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)     


#############################################################

GR_PENER_auto_e[h, ecl] := STEADYSTATE(15,1)

R_CASH_AUTO_elec[h, pcl] := HOUSEHOLD_HYBRID_AUTO(125 + $pcl, $h)

R_I_AUTO_elec[h, pcl] := HOUSEHOLD_HYBRID_AUTO(133 + $pcl, $h)

R_LOAN_AUTO_elec[h, pcl] := 1 - R_CASH_AUTO_elec[h, pcl]

LD_AUTO_elec[h, pcl] := HOUSEHOLD_HYBRID_AUTO(141 + $pcl, $h)

R_RMBS_AUTO_elec[h, pcl] := HOUSEHOLD_HYBRID_AUTO(157 + $pcl, $h)

AUTO_elec_D[h, pcl] := HOUSEHOLD_HYBRID_AUTO(172 + $pcl, $h)

bonus_elec[h]:= 0

Pbattery := 20000 * (1 + STEADYSTATE(15, 1)) ^ (@year - %baseyear)

overcost_elec := 4000 * (1 + STEADYSTATE(15, 1)) ^ (@year - %baseyear)

PAUTO_elec[h,pcl] := (HOUSEHOLD_HYBRID_AUTO(118 + $pcl, $h)*0.8 + HOUSEHOLD_HYBRID_AUTO(217,1)) / 1000 * (1 + STEADYSTATE(15, 1)) ^ (@year - %baseyear)  #modifié pour crtl comptable

PNewAUTO_th[h,ecl] := (HOUSEHOLD_HYBRID_AUTO(118 + $ecl, $h)*0.8/1000)* (1 + STEADYSTATE(15, 1)) ^ (@year - %baseyear)    #modifié pour crtl comptable. Si l'on suppose que la part des ventes est égale à celle des stocks, alors il faut baisser les prix sinon EXP_03_val est négatif

#U_auto_elec[h,pcl]:= HOUSEHOLD_HYBRID_AUTO(208+$pcl,$h) #*(1 + STEADYSTATE(15, 1)) ^ (@year - %baseyear)   #corrigé

phi_elec[h,pcl]:= HOUSEHOLD_HYBRID_AUTO(236 + $pcl, $h)

KM_AUTO_th[h,ecl,21] := HOUSEHOLD_HYBRID_AUTO(72+ $ecl, $h)*(1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)     

KM_AUTO_th[h,ecl,22] := HOUSEHOLD_HYBRID_AUTO(80+ $ecl, $h)*(1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)      

KM_AUTO_th[h,ecl,24] := HOUSEHOLD_HYBRID_AUTO(96+ $ecl, $h)*(1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)             

#U_auto_th[h,ecl]:= HOUSEHOLD_HYBRID_AUTO(349+$ecl,$h) *(1 + STEADYSTATE(15, 1)) ^ (@year - %baseyear)           #corrigé
 					
phi_th[h,ecl]:= HOUSEHOLD_HYBRID_AUTO(252 + $ecl, $h)

share_elec[h] := HOUSEHOLD_HYBRID_AUTO(229,1)

 #-------------------------Transportation
 

km_traveler_18[h] := HOUSEHOLD_HYBRID_AUTO(110, $h)*(1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)         et modifié

km_traveler_LD[h] := 248850.0986 * (1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)

km_traveler_CD[h]:= (HOUSEHOLD_HYBRID_AUTO(111,$h))*(1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear) -km_traveler_LD[h]-km_traveler_18[h]

km_traveler_14[h] := HOUSEHOLD_HYBRID_AUTO(106, $h)*(1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)
 
km_traveler_15[h] := HOUSEHOLD_HYBRID_AUTO(107, $h)*(1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)
    
km_auto_LD[h] := 74300592.83 *(1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)

km_auto[h] := HOUSEHOLD_HYBRID_AUTO(72, $h) *(1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)

km_auto[h, ecl] := HOUSEHOLD_HYBRID_AUTO(64+ $ecl, $h) *(1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)

km_auto[h, ce] := HOUSEHOLD_HYBRID_AUTO(80+( $ce-1)*8, $h) *(1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)

km_auto[h, ecl, ce] := HOUSEHOLD_HYBRID_AUTO(72+ $ecl+( $ce-1)*8, $h)  *(1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)

nu_auto[h, ecl] := HOUSEHOLD_HYBRID_AUTO(165 + $ecl, $h)


## EMISSIONS From Households

# Consommation en KwH de l'energie
EMS_HH_BUIL[ems, h, ecl] := HOUSEHOLD_HYBRID_BUIL(80 + $ecl + ($ems - 1) * 8, $h) * (1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)

# Consommation en KwH de l'energie
EMS_HH_BUIL[24, h, ecl] := HOUSEHOLD_HYBRID_BUIL(104 + $ecl, $h) * (1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)

# EMISSIONS From Households: automobile

# Consommation en KwH de l'energie
EMS_HH_AUTO[22, h, ecl] := HOUSEHOLD_HYBRID_AUTO(188 + $ecl, $h) * (1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)
